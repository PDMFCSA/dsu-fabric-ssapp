<psk-page>
    <webc-container controller="ImportController">
        <div class="m-5">
            <p>Select your files</p>
            <psk-files-chooser data-view-model="@filesChooser" id="import-files">
            </psk-files-chooser>

            <hr/>
            <psk-button data-tag="import" disabled="@importIsDisabled" label="Import"></psk-button>
            <psk-button data-tag="view-all" label="View responses"></psk-button>
            <psk-button data-tag="retry-failed" disabled="@retryBtnIsDisabled" label="Retry failed messages"
                        style="float:right"></psk-button>

            <h3>Import Logs</h3>
            <div><input type="search" id="code-search">
                <button data-tag="search-by-code">Search</button>
            </div>
            <psk-tab-navigator selected="@selectedTab" id="orange-tab-navigator">
                <psk-tab title="Successfully Imported Logs" class="success-messages-tab">
                    <webc-datatable datasource="@successDataSource" hide-pagination>
                        <div slot="header">Item Code</div>
                        <div slot="header">Type</div>
                        <div slot="header">Date</div>
                        <div slot="header">Status</div>
                        <div slot="header">Command</div>
                        <div slot="header">Action</div>

                        <div class="data-item">{{@itemCode}}</div>
                        <div class="data-item">{{@itemType}}</div>
                        <div class="data-item">{{@timeAgo}}</div>
                        <div class="data-item">{{@status}}</div>
                        <div class="data-item">{{@action}}</div>
                        <div class="data-item">
                            <button class="btn btn-link p-0 col align-self-center text-left" data-tag="view-message">View
                                Message
                            </button>
                        </div>

                    </webc-datatable>
                    <button data-tag="prev-page">Go to previous page</button>
                    <button data-tag="next-page">Go to next page</button>
                </psk-tab>
                <psk-tab title="Failed Imported Logs" class="failed-messages-tab">
                    <webc-datatable datasource="@failedDataSource" hide-pagination>
                        <div slot="header">Item Code</div>
                        <div slot="header">Type</div>
                        <div slot="header">Date</div>
                        <div slot="header">Status</div>
                        <div slot="header">Command</div>
                        <div slot="header">Action</div>
                        <div slot="header">
                            <input data-tag="retry-all-click" id="retry-all-checkbox" name="retryAllCheckbox" type="checkbox"
                                   value="@retryAll">
                        </div>

                        <div class="data-item">{{@itemCode}}</div>
                        <div class="data-item">{{@itemType}}</div>
                        <div class="data-item">{{@timeAgo}}</div>
                        <div class="data-item">{{@status}}</div>
                        <div class="data-item">{{@action}}</div>
                        <div class="data-item">
                            <button class="btn btn-link p-0 col align-self-center text-left" data-tag="view-message">View
                                Message
                            </button>
                        </div>
                        <div class="data-item">
                            <input class="failed-message" data-tag="retry-item-click" name="@itemId" slot="true"
                                   type="checkbox" value="@retry">
                        </div>

                    </webc-datatable>
                </psk-tab>
            </psk-tab-navigator>



            <!--            <psk-tab-navigator selected="@selectedTab" id="orange-tab-navigator">
                            <psk-tab title="Successfully Imported Logs">

                                <table class="import-success-table table">
                                    <thead>
                                    <tr>
                                        <th scope="col">Item Code</th>
                                        <th scope="col">Type</th>
                                        <th scope="col">Date</th>
                                        <th scope="col">Status</th>
                                        <th scope="col">Command</th>
                                        <th scope="col">Action</th>
                                    </tr>
                                    </thead>
                                    <tbody data-for="@successfullyImportedLogs">
                                    <tr is-fresh="@isFresh">
                                        <td>{{@itemCode}}</td>
                                        <td>{{@itemType}}</td>
                                        <td>{{@timeAgo}}</td>
                                        <td>{{@status}}</td>
                                        <td>{{@action}}</td>
                                        <td>
                                            <button class="btn btn-link p-0 col align-self-center text-left" data-tag="view-message">View Message</button>
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>

                            </psk-tab>
                            <psk-tab title="Failed Imported Logs">
                                <table class="import-failed-table table">
                                    <thead>
                                    <tr>
                                        <th scope="col">Item Code</th>
                                        <th scope="col">Type</th>
                                        <th scope="col">Date</th>
                                        <th scope="col">Status</th>
                                        <th scope="col">Command</th>
                                        <th scope="col">Action</th>
                                        <th scope="col">
                                            <input type="checkbox" name="retryAllCheckbox" id="retry-all-checkbox" data-tag="retry-all-click" value="@retryAll">
                                        </th>
                                    </tr>
                                    </thead>
                                    <tbody data-for="@failedImportedLogs">
                                    <tr is-fresh="@isFresh">
                                        <td>{{@itemCode}}</td>
                                        <td>{{@itemType}}</td>
                                        <td>{{@timeAgo}}</td>
                                        <td>{{@status}}</td>
                                        <td>{{@action}}</td>
                                        <td>
                                            <button class="btn btn-link p-0 col align-self-center text-left" data-tag="view-message">View Message</button>
                                        </td>
                                        <td>
                                            <input type="checkbox" name="@itemId" data-tag="retry-item-click" class="failed-message" value="@retry">
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                            </psk-tab>
                        </psk-tab-navigator>-->
        </div>
    </webc-container>
</psk-page>

